pub type intlist { pub [] | [|](head:int, tail:intlist) }

pub def single_generator() use !io {
    ?x = [1, 2, 3]

    for i in x {
        !println(i)
    }
}

!single_generator()

pub def multiple_generator() use !io {
    ?x = [1, 2, 3]
    ?y = [4, 5, 6]

    for i in x, j in y {
        !println(i)
        !println(j)
    }
}

!multiple_generator()

pub def shortest_generator_termination() use !io {
    ?x = [1, 2, 3, 4]
    ?y = [4, 5]

    for i in x, j in y {
        !println(i)
        !println(j)
    }
}

!shortest_generator_termination()

