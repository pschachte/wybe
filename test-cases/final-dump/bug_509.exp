======================================================================
AFTER EVERYTHING:


--------------------------------------------------
 Module bug_509
  representation  : (not a type)
  public submods  : 
  public resources: 
  public procs    : bug_509.<0>
  imports         : use wybe
  resources       : 
  procs           : 

module top-level code > public {inline,semipure} (0 calls)
0: bug_509.<0>
()<{<<wybe.io.io>>}; {<<wybe.io.io>>}; {}>:
  AliasPairs: []
  InterestingCallProperties: []
    bug_509.call<0>(bug_509.#anon#1<1><>:(wybe.bool, ?wybe.bool), ?x##0:wybe.bool) #0 @bug_509:nn:nn
    wybe.bool.print<0>(~x##0:wybe.bool)<{<<wybe.io.io>>}; {<<wybe.io.io>>}; {}> #1 @bug_509:nn:nn


proc #anon#1 > {inline} (1 calls)
0: bug_509.#anon#1<0>
#anon#1(anon#1#1##0:wybe.bool, ?anon#1#2##0:wybe.bool)<{}; {}; {}>:
  AliasPairs: []
  InterestingCallProperties: []
    foreign llvm icmp_eq(~anon#1#1##0:wybe.bool, 1:wybe.bool, ?anon#1#2##0:wybe.bool) @bug_509:nn:nn
proc #anon#1 > {inline} (1 calls)
1: bug_509.#anon#1<1>
#anon#1(anon#1#1##0:wybe.bool, ?anon#1#2##0:wybe.bool)<{}; {}; {}>:
  AliasPairs: []
  InterestingCallProperties: []
    foreign llvm icmp_eq(~anon#1#1##0:wybe.bool, 1:wybe.bool, ?anon#1#2##0:wybe.bool) @bug_509:nn:nn


proc call > {noinline} (1 calls)
0: bug_509.call<0>
call(f##0:(wybe.bool, ?wybe.bool), ?x##0:wybe.bool)<{}; {}; {}>:
  AliasPairs: []
  InterestingCallProperties: []
    ~f##0:(wybe.bool, ?wybe.bool)(0:wybe.bool, ?x##0:wybe.bool) #1 @bug_509:nn:nn

  LLVM code       :

;; FILE GENERATED BY wybemk 0.2 -- see https://github.com/pschachte/wybe
; ModuleID = 'bug_509'

source_filename = "!ROOT!/final-dump/bug_509.wybe"
target triple    ????

@"closure#0" = private unnamed_addr constant {ptr} { ptr @"bug_509.#anon#1<1>" }, align 8

declare external fastcc void @"wybe.bool.print<0>"(i1)
declare external ccc void @llvm.memcpy.p0.p0.i64(ptr, ptr, i64, i1)

define external fastcc void @"bug_509.<0>"() {
  %"x##0" = tail call fastcc i1 @"bug_509.call<0>"(i64 ptrtoint( ptr @"closure#0" to i64 ))
  tail call fastcc void @"wybe.bool.print<0>"(i1 %"x##0")
  ret void
}

define external fastcc i1 @"bug_509.#anon#1<0>"(i1 %"anon#1#1##0") {
  %"tmp#4##0" = icmp eq i1 %"anon#1#1##0", 1
  ret i1 %"tmp#4##0"
}

define external fastcc i64 @"bug_509.#anon#1<1>"(i64 %"#env##0", i64 %"generic#anon#1#1##0") {
  %"anon#1#1##0" = trunc i64 %"generic#anon#1#1##0" to i1
  %"anon#1#2##0" = icmp eq i1 %"anon#1#1##0", 1
  %"tmp#1##0" = zext i1 %"anon#1#2##0" to i64
  ret i64 %"tmp#1##0"
}

define external fastcc i1 @"bug_509.call<0>"(i64 %"f##0") {
  %"tmp#2##0" = inttoptr i64 %"f##0" to ptr
  %"tmp#1##0" = load ptr, ptr %"tmp#2##0"
  %"tmp#3##0" = tail call fastcc i1 %"tmp#1##0"(i64 %"f##0", i1 0)
  ret i1 %"tmp#3##0"
}
